{"ast":null,"code":"var _jsxFileName = \"/home/tracy/charity/src/pages/Login.js\",\n  _s = $RefreshSig$();\nimport { useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport { useDispatch } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login() {\n  _s();\n  /**declaring state */\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const handleUsernameChange = e => {\n    setEmail(e.target.value);\n  };\n  const handlePasswordChange = e => {\n    setPassword(e.target.value);\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log({\n      email: email,\n      password: password\n    });\n    // creates the post when the data is added it adds the data to the backend ie ..db.json\n    fetch(\"http://127.0.0.1:3000/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email: email,\n        password: password\n      })\n    }).then(response => {\n      if (response.ok) response.json().then(data => {\n        var _data$user;\n        dispatch(getUserSuccess(data.user));\n        localStorage.setItem(\"jwtToken\", data.token);\n        (data === null || data === void 0 ? void 0 : (_data$user = data.user) === null || _data$user === void 0 ? void 0 : _data$user.role) && navigate(\"/dashboard\");\n      });\n    }).catch(e => console.log(e));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-wrap sm:justify-center lg:justify-evenly items-center py-16 bg-gradient-to-br from-lime-100 via-red-200 to-teal-100\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"flex flex-col items-center min-w-max max-w-lg w-full lg:w-1/2\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        className: \"flex-1 w-[90%]\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-gray-700\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"email\",\n          type: \"text\",\n          name: \"email\",\n          className: \"block m-2 mb-4 rounded-md p-2 w-full border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\",\n          placeholder: \"Username: \",\n          onChange: handleUsernameChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password\",\n        className: \"flex-1 w-[90%]\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-gray-700\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"password\",\n          type: \"password\",\n          name: \"password\",\n          className: \"block m-2 mb-4 rounded-md p-2 w-full border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\",\n          placeholder: \"Password: \",\n          onChange: handlePasswordChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        \"data-te-ripple-init\": true,\n        \"data-te-ripple-color\": \"light\",\n        className: \"block rounded bg-stone-800 px-6 pt-2.5 pb-2 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-stone-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-stone-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-stone-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]\",\n        onClick: handleSubmit,\n        children: \"Log in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-grow lg:flex-grow-0 px-6 items-center md:w-1/2 h-max  w-full md:min-w-[500px] max-w-[500px] mt-20\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"EnqBpp8OYg3QkLjkwaaSmFp0EPQ=\", false, function () {\n  return [useNavigate, useDispatch];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useNavigate","useState","useDispatch","jsxDEV","_jsxDEV","Login","_s","email","setEmail","password","setPassword","navigate","dispatch","handleUsernameChange","e","target","value","handlePasswordChange","handleSubmit","preventDefault","console","log","fetch","method","headers","body","JSON","stringify","then","response","ok","json","data","_data$user","getUserSuccess","user","localStorage","setItem","token","role","catch","className","children","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","id","type","name","placeholder","onChange","onClick","_c","$RefreshReg$"],"sources":["/home/tracy/charity/src/pages/Login.js"],"sourcesContent":["import { useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\n\n\nimport { useDispatch } from 'react-redux';\n\nfunction Login() {\n    /**declaring state */\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('')\n    const navigate = useNavigate();\n\n    const dispatch = useDispatch();\n    \n    const handleUsernameChange = (e) => {\n        setEmail(e.target.value)\n    }\n    \n    \n    const handlePasswordChange = (e) => {\n        setPassword(e.target.value)\n    }\n\n    const handleSubmit  = (e) => {\n        e.preventDefault();\n        console.log({email: email, password: password})\n        // creates the post when the data is added it adds the data to the backend ie ..db.json\n        fetch(\"http://127.0.0.1:3000/login\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({email: email, password: password}),\n        })\n \n\n            .then((response) => {\n                if(response.ok)\n                response.json()\n                .then((data) =>{\n                    dispatch(getUserSuccess(data.user));\n                    localStorage.setItem(\"jwtToken\",data.token)\n                    data?.user?.role && navigate(\"/dashboard\"); \n                })\n            })\n            .catch(e=>console.log(e))\n    }\n    return (\n        <div className=\"flex flex-wrap sm:justify-center lg:justify-evenly items-center py-16 bg-gradient-to-br from-lime-100 via-red-200 to-teal-100\">\n            <form className=\"flex flex-col items-center min-w-max max-w-lg w-full lg:w-1/2\">\n                <label htmlFor=\"email\" className=\"flex-1 w-[90%]\">\n                    <span className=\"text-gray-700\">Email</span>\n                    <input id=\"email\" type=\"text\" name=\"email\" className=\"block m-2 mb-4 rounded-md p-2 w-full border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\" placeholder=\"Username: \" onChange={handleUsernameChange}></input>\n                </label>\n                <label htmlFor=\"password\" className=\"flex-1 w-[90%]\">\n                    <span className=\"text-gray-700\">Password</span>\n                    <input id=\"password\" type=\"password\" name=\"password\" className=\"block m-2 mb-4 rounded-md p-2 w-full border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50\" placeholder=\"Password: \" onChange={handlePasswordChange}></input>\n                </label>\n                <button\n                    type=\"submit\"\n                    data-te-ripple-init\n                    data-te-ripple-color=\"light\"\n                    className=\"block rounded bg-stone-800 px-6 pt-2.5 pb-2 text-xs font-medium uppercase leading-normal text-white shadow-[0_4px_9px_-4px_#3b71ca] transition duration-150 ease-in-out hover:bg-stone-600 hover:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:bg-stone-600 focus:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)] focus:outline-none focus:ring-0 active:bg-stone-700 active:shadow-[0_8px_9px_-4px_rgba(59,113,202,0.3),0_4px_18px_0_rgba(59,113,202,0.2)]\"\n                    onClick={handleSubmit} >\n                    Log in\n                </button>\n            </form>\n            <div className=\"flex flex-grow lg:flex-grow-0 px-6 items-center md:w-1/2 h-max  w-full md:min-w-[500px] max-w-[500px] mt-20\">\n            </div>\n        </div>\n    );\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}